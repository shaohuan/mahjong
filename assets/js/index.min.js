jQuery(document).ready(function(){function a(a){$("#login-error").html(a).css("visibility","visible")}function b(a){localStorage.user_id=a.user_id,localStorage.token=a.token,localStorage.headimgurl=a.headimgurl,localStorage.user_name=a.user_name,localStorage.doudou=a.doudou,localStorage.role_name=a.role_name}$(".page-container form").submit(function(c){event.preventDefault();var d=$(this).find(".username").val(),e=$(this).find(".password").val();return""==d?(a("用户名不能为空"),!1):""==e?(a("密码不能为空"),!1):void $.post("/v0/account/login",{user_name:d,password:e},function(c){if(localStorage.clear(),0==c.error_code)b(c),window.location.href="recharge.html";else switch(c.error_code){case 1:a("未知的错误");break;case 2:a("手机格式非法");break;case 3:a("参数为空");break;case 4:a("没有授权");break;case 10001:a("错误码验证失败");break;case 10002:a("昵称已经存在");break;case 10003:a("设置密码太短");break;case 10004:a("手机号码已经存在");break;case 10021:a("用户名或密码错误");break;case 10041:a("token非法");break;case 10042:a("验证码已发送");break;case 10043:a("验证码超时");break;case 10044:a("验证码发送失败");break;case 10045:a("柑子不够");break;default:a("登陆失败!  状态码："+c.error_code)}}).fail(function(b){a("登陆失败!  状态码："+b.status)})})});